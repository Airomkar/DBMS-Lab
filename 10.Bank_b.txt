Question -- reate the following tables. And Solve following queries by SQL  
                1.  Deposit (actno,cname,bname,amount,adate) 
                2. Branch (bname,city) 
                3. Customers (cname, city) 
                4. Borrow(loanno,cname,bname, amount) 
            Add primary key and foreign key wherever applicable. 
            Insert data into the above created tables. 
                a. Display names of all branches located in city Bombay. 
                b. Display account no. and amount of depositors. 
                c. Update the city of customers Anil from Pune to Mumbai 
                d. Find the number of depositors in the bank 
                e. Calculate Min,Max amount of customers. 
                f. Create an index on deposit table  
                g. Create View on Borrow table. 

Solution -- 

Step 1: Create Database

CREATE DATABASE bankDB;
USE bankDB;

Step 2: Create Tables with Primary and Foreign Keys

CREATE TABLE Branch (
  bname VARCHAR(30) PRIMARY KEY,
  city VARCHAR(30)
);

CREATE TABLE Customers (
  cname VARCHAR(30) PRIMARY KEY,
  city VARCHAR(30)
);

CREATE TABLE Deposit (
  actno INT PRIMARY KEY,
  cname VARCHAR(30),
  bname VARCHAR(30),
  amount DECIMAL(10,2),
  adate DATE,
  FOREIGN KEY (cname) REFERENCES Customers(cname),
  FOREIGN KEY (bname) REFERENCES Branch(bname)
);

CREATE TABLE Borrow (
  loanno INT PRIMARY KEY,
  cname VARCHAR(30),
  bname VARCHAR(30),
  amount DECIMAL(10,2),
  FOREIGN KEY (cname) REFERENCES Customers(cname),
  FOREIGN KEY (bname) REFERENCES Branch(bname)
);

Step 3: Insert Sample Data

INSERT INTO Branch VALUES
('Fort', 'Bombay'),
('Dadar', 'Bombay'),
('MG Road', 'Pune'),
('Park Street', 'Delhi');

INSERT INTO Customers VALUES
('Anil', 'Pune'),
('Sneha', 'Mumbai'),
('Ravi', 'Bombay'),
('John', 'Delhi');

INSERT INTO Deposit VALUES
(101, 'Anil', 'Fort', 6000, '1997-01-05'),
(102, 'Sneha', 'Dadar', 4500, '1996-12-12'),
(103, 'Ravi', 'Fort', 7000, '1997-02-10'),
(104, 'John', 'MG Road', 3500, '1996-12-25');

INSERT INTO Borrow VALUES
(201, 'Anil', 'Fort', 3000),
(202, 'Sneha', 'Dadar', 4000),
(203, 'Ravi', 'Fort', 2500),
(204, 'John', 'MG Road', 1500);

ðŸ§¾ SQL QUERIES AND ANSWERS

(a) Display names of all branches located in city Bombay.

SELECT bname
FROM Branch
WHERE city = 'Bombay';

(b) Display account no. and amount of depositors.

SELECT actno, amount
FROM Deposit;

(c) Update the city of customer Anil from Pune to Mumbai.

UPDATE Customers
SET city = 'Mumbai'
WHERE cname = 'Anil';

(d) Find the number of depositors in the bank.

SELECT COUNT(*) AS Number_of_Depositors
FROM Deposit;

(e) Calculate Minimum and Maximum amount of customers.

SELECT MIN(amount) AS Minimum_Amount,
       MAX(amount) AS Maximum_Amount
FROM Deposit;

(f) Create an index on deposit table.

CREATE INDEX idx_amount ON Deposit(amount);

EXPLAIN SELECT * FROM Deposit WHERE amount > 5000;

(g) Create a view on Borrow table.

CREATE VIEW Borrow_View AS
SELECT loanno, cname, bname, amount
FROM Borrow;

SELECT * FROM Borrow_View;

âœ… Query Summary Table

| No | Query Description        | SQL Concept Used          |
| -- | ------------------------ | ------------------------- |
| a  | Branches in Bombay       | `WHERE`                   |
| b  | Display account & amount | `SELECT`                  |
| c  | Update city              | `UPDATE`, `WHERE`         |
| d  | Count depositors         | `COUNT()`                 |
| e  | Min & Max amount         | `MIN()`, `MAX()`          |
| f  | Create index             | `CREATE INDEX`, `EXPLAIN` |
| g  | Create view              | `CREATE VIEW`             |

ðŸŽ¤ POSSIBLE ORAL (VIVA) QUESTIONS & ANSWERS

| **Q.No** | **Question**                                                           | **Answer**                                                                                       |
| -------- | ---------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------ |
| 1        | What is a **Primary Key**?                                             | A field that uniquely identifies each record in a table.                                         |
| 2        | What is a **Foreign Key**?                                             | A field that links one table to another and maintains referential integrity.                     |
| 3        | Why do we use **Indexes**?                                             | To improve query performance by speeding up data retrieval.                                      |
| 4        | What is a **View**?                                                    | A virtual table created using a query that shows data from one or more tables.                   |
| 5        | What is the use of **COUNT()** function?                               | It counts the total number of rows or specific records.                                          |
| 6        | What is the difference between **MIN()** and **MAX()**?                | `MIN()` gives the smallest value, `MAX()` gives the largest.                                     |
| 7        | What is the difference between **DELETE**, **DROP**, and **TRUNCATE**? | `DELETE` removes rows, `TRUNCATE` removes all rows quickly, and `DROP` deletes the entire table. |
| 8        | What is the purpose of the **WHERE** clause?                           | To filter records based on specific conditions.                                                  |
| 9        | What does the **UPDATE** statement do?                                 | Modifies existing records in a table.                                                            |
| 10       | What is the use of the **EXPLAIN** keyword?                            | It shows how SQL executes a query, useful for performance checking.                              |
| 11       | Can a table have multiple foreign keys?                                | Yes, if it references multiple parent tables.                                                    |
| 12       | What is the default sorting order in SQL?                              | Ascending order (ASC).                                                                           |
| 13       | What is the difference between a **Table** and a **View**?             | A table stores data physically; a view is virtual and doesnâ€™t store data.                        |
| 14       | What is a **Constraint**?                                              | A rule applied to table columns to maintain data integrity.                                      |
| 15       | What is the purpose of **GROUP BY** and **HAVING**?                    | `GROUP BY` groups rows by common values; `HAVING` filters those groups.                          |
