Question -- Create a database 
            1. employee (employee name, street, city) ,employee name is primary key 
            2. works (employee name, company name, salary) 
            3. company (company name, city) ,company name is primary key 
            4. manages (employee name, manager name) 
              Give an expression in SQL for each of the following queries. 
              1. Find the names of all employees who work for First Bank Corporation. 
              2. Find all employees who do not work for First Bank Coorporation 
              3. Find the company that has most employees. 
              4. Find all companies located in every in which small bank corporation is located 
              5. Find details of employee having salary greater than 10,000. 
              6. Update salary of all employees who work for First Bank Corporation by 10%. 
              7. Find employee and their managers. 
              8. Find the names, street and cities of all employees who work for First Bank 
              Corporation and earn more than 10,000. 
              9. Find those companies whose employees earn a higher salary,on average, than th 
              average salary at First Bank Corporation 

Solution -- 

Step 1: Create the Database

CREATE DATABASE companyDB;
USE companyDB;

Step 2: Create Tables

CREATE TABLE employee (
  employee_name VARCHAR(30) PRIMARY KEY,
  street VARCHAR(50),
  city VARCHAR(30)
);

CREATE TABLE works (
  employee_name VARCHAR(30),
  company_name VARCHAR(30),
  salary DECIMAL(10,2),
  FOREIGN KEY (employee_name) REFERENCES employee(employee_name)
);

CREATE TABLE company (
  company_name VARCHAR(30) PRIMARY KEY,
  city VARCHAR(30)
);

CREATE TABLE manages (
  employee_name VARCHAR(30),
  manager_name VARCHAR(30),
  FOREIGN KEY (employee_name) REFERENCES employee(employee_name)
);

Step 3: Insert Sample Data

INSERT INTO employee VALUES
('Amit', 'MG Road', 'Mumbai'),
('Sneha', 'Park St', 'Pune'),
('Ravi', 'Link Rd', 'Delhi'),
('Isha', 'Hill St', 'Mumbai'),
('Karan', 'Main Rd', 'Pune');

INSERT INTO company VALUES
('First Bank Corporation', 'Mumbai'),
('Small Bank Corporation', 'Pune'),
('TechSoft', 'Delhi'),
('FinancePro', 'Mumbai');

INSERT INTO works VALUES
('Amit', 'First Bank Corporation', 12000),
('Sneha', 'TechSoft', 15000),
('Ravi', 'Small Bank Corporation', 9500),
('Isha', 'First Bank Corporation', 11000),
('Karan', 'FinancePro', 13000);

INSERT INTO manages VALUES
('Amit', 'Karan'),
('Sneha', 'Ravi'),
('Isha', 'Amit'),
('Ravi', 'Karan'),
('Karan', 'Sneha');

üßæ SQL QUERIES AND ANSWERS

1. Find the names of all employees who work for First Bank Corporation.

SELECT employee_name
FROM works
WHERE company_name = 'First Bank Corporation';

2. Find all employees who do not work for First Bank Coorporation 

SELECT employee_name
FROM works
WHERE company_name <> 'First Bank Corporation';

3. Find the company that has most employees.

SELECT company_name
FROM works
GROUP BY company_name
ORDER BY COUNT(employee_name) DESC
LIMIT 1;

4. Find all companies located in every in which small bank corporation is located 

SELECT company_name
FROM company
WHERE city IN (
    SELECT city
    FROM company
    WHERE company_name = 'Small Bank Corporation'
);

5. Find details of employee having salary greater than 10,000. 

SELECT e.*
FROM employee e
JOIN works w ON e.employee_name = w.employee_name
WHERE w.salary > 10000;

6. Update salary of all employees who work for First Bank Corporation by 10%.

UPDATE works
SET salary = salary * 1.10
WHERE company_name = 'First Bank Corporation';

7. Find employee and their managers. 

SELECT employee_name, manager_name
FROM manages;

8. Find the names, street and cities of all employees who work for First Bank Corporation and earn more than 10,000. 

SELECT e.employee_name, e.street, e.city
FROM employee e
JOIN works w ON e.employee_name = w.employee_name
WHERE w.company_name = 'First Bank Corporation' AND w.salary > 10000;

9. Find those companies whose employees earn a higher salary,on average, than th average salary at First Bank Corporation 

SELECT company_name
FROM works
GROUP BY company_name
HAVING AVG(salary) > (
    SELECT AVG(salary)
    FROM works
    WHERE company_name = 'First Bank Corporation'
);

‚úÖ Summary Table of Queries

| No | Description                              | SQL Keyword Used                           |
| -- | ---------------------------------------- | ------------------------------------------ |
| 1  | Employees working in a specific company  | `WHERE`                                    |
| 2  | Employees not in a company               | `<>`                                       |
| 3  | Company with most employees              | `GROUP BY`, `COUNT()`, `ORDER BY`, `LIMIT` |
| 4  | Companies in same city                   | `IN`, `Subquery`                           |
| 5  | Employees with high salary               | `JOIN`, `WHERE`                            |
| 6  | Increase salary by 10%                   | `UPDATE`, `SET`                            |
| 7  | Show employees and their managers        | `SELECT`                                   |
| 8  | Filter by salary and company             | `JOIN`, `AND`                              |
| 9  | Compare average salary between companies | `GROUP BY`, `HAVING`, `Subquery`           |


üé§ POSSIBLE ORAL (VIVA) QUESTIONS & ANSWERS

| **Q.No** | **Question**                                                  | **Answer**                                                                                         |
| -------- | ------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- |
| 1        | What is a **Primary Key**?                                    | It uniquely identifies each record in a table. It cannot contain NULL or duplicate values.         |
| 2        | What is a **Foreign Key**?                                    | It is used to link two tables together. It references the primary key of another table.            |
| 3        | What is the difference between `WHERE` and `HAVING`?          | `WHERE` filters before grouping; `HAVING` filters after grouping (used with aggregate functions).  |
| 4        | What is the function of `GROUP BY`?                           | It groups rows with the same values into summary rows, often used with `COUNT`, `AVG`, or `SUM`.   |
| 5        | What does the `IN` operator do?                               | It checks if a value matches any value in a list or subquery.                                      |
| 6        | What is the purpose of `JOIN`?                                | It combines data from two or more tables based on a related column.                                |
| 7        | What is the use of `AVG()` function?                          | It calculates the average value of a numeric column.                                               |
| 8        | How do you increase a salary by 10%?                          | By using `UPDATE works SET salary = salary * 1.10 WHERE company_name = 'First Bank Corporation';`. |
| 9        | What is the difference between `INNER JOIN` and `OUTER JOIN`? | `INNER JOIN` shows only matching rows; `OUTER JOIN` shows all rows from one or both tables.        |
| 10       | Can we have more than one primary key in a table?             | No, but a **composite key** (multiple columns together) can act as a primary key.                  |
| 11       | What is a subquery?                                           | A query inside another query, used to compute values dynamically.                                  |
| 12       | What is the difference between `DELETE` and `DROP`?           | `DELETE` removes data but keeps table structure, `DROP` removes the table completely.              |
| 13       | What is `LIMIT 1` used for?                                   | To restrict the output to only one record (commonly used for maximum/minimum results).             |
| 14       | What is normalization?                                        | The process of organizing data to reduce redundancy and improve data integrity.                    |
| 15       | Why do we use `<>` instead of `!=` in SQL?                    | Both mean ‚Äúnot equal‚Äù, but `<>` is standard SQL syntax, while `!=` works in some systems only.     |
