Question -- â€¢  Deposit (actno,cname,bname,amount,adate) 
            â€¢ Branch (bname,city) 
            â€¢ Customers (cname, city) 
            â€¢ Borrow(loanno,cname,bname, amount) 
            Add primary key and foreign key wherever applicable. 
            Insert data into the above created tables. 
                1. Display names of depositors having amount greater than 4000. 
                2. Display account date of customers Anil  
                3. Display account no. and deposit amount of customers having account opened 
                between dates 1-12-96 and 1-5-97 
                4. Find the average account balance at the Perryridge branch. 
                5. Find the names of all branches where the average account balance is more 
                than $1,200. 
                6. Delete depositors having deposit less than 5000 
                7. Create a view on deposit table. 

Slotion -- 

Step 1: Create Database

CREATE DATABASE bankDB;
USE bankDB;

Step 2: Create Tables with Keys

CREATE TABLE Branch (
  bname VARCHAR(30) PRIMARY KEY,
  city VARCHAR(30)
);

CREATE TABLE Customers (
  cname VARCHAR(30) PRIMARY KEY,
  city VARCHAR(30)
);

CREATE TABLE Deposit (
  actno INT PRIMARY KEY,
  cname VARCHAR(30),
  bname VARCHAR(30),
  amount DECIMAL(10,2),
  adate DATE,
  FOREIGN KEY (cname) REFERENCES Customers(cname),
  FOREIGN KEY (bname) REFERENCES Branch(bname)
);

CREATE TABLE Borrow (
  loanno INT PRIMARY KEY,
  cname VARCHAR(30),
  bname VARCHAR(30),
  amount DECIMAL(10,2),
  FOREIGN KEY (cname) REFERENCES Customers(cname),
  FOREIGN KEY (bname) REFERENCES Branch(bname)
);

Step 3: Insert Sample Data

INSERT INTO Branch VALUES
('Perryridge', 'New York'),
('Downtown', 'Chicago'),
('M.G. Road', 'Pune');

INSERT INTO Customers VALUES
('Anil', 'Delhi'),
('Sneha', 'Pune'),
('Ravi', 'Mumbai'),
('John', 'Chicago');

INSERT INTO Deposit VALUES
(101, 'Anil', 'Perryridge', 5000, '1997-01-15'),
(102, 'Sneha', 'Downtown', 3500, '1996-12-20'),
(103, 'Ravi', 'Perryridge', 7000, '1997-03-10'),
(104, 'John', 'M.G. Road', 2500, '1996-12-25');

INSERT INTO Borrow VALUES
(201, 'Anil', 'Perryridge', 2000),
(202, 'Sneha', 'Downtown', 5000),
(203, 'Ravi', 'Perryridge', 4000);

ðŸ§¾ SQL QUERIES AND ANSWERS

1. Display names of depositors having amount greater than 4000.

SELECT cname, amount
FROM Deposit
WHERE amount > 4000;

2. Display account date of customer â€˜Anilâ€™.

SELECT adate
FROM Deposit
WHERE cname = 'Anil';

3. Display account no. and deposit amount of customers having account opened between 1-12-96 and 1-5-97.

SELECT actno, amount
FROM Deposit
WHERE adate BETWEEN '1996-12-01' AND '1997-05-01';

4. Find the average account balance at the Perryridge branch.

SELECT AVG(amount) AS Avg_Balance
FROM Deposit
WHERE bname = 'Perryridge';

5. Find names of all branches where the average account balance is more than $1,200.

SELECT bname
FROM Deposit
GROUP BY bname
HAVING AVG(amount) > 1200;

6. Delete depositors having deposit less than 5000.

DELETE FROM Deposit
WHERE amount < 5000;

7. Create a view on deposit table.

CREATE VIEW Deposit_View AS
SELECT actno, cname, bname, amount
FROM Deposit;

SELECT * FROM Deposit_View;

âœ… Query Summary Table

| No | Description                   | SQL Concepts Used       |
| -- | ----------------------------- | ----------------------- |
| 1  | Depositors with amount > 4000 | `WHERE`                 |
| 2  | Account date for Anil         | `WHERE`                 |
| 3  | Deposits between two dates    | `BETWEEN`, `AND`        |
| 4  | Average balance in branch     | `AVG()`                 |
| 5  | Branches with avg > 1200      | `GROUP BY`, `HAVING`    |
| 6  | Delete deposits < 5000        | `DELETE`, `WHERE`       |
| 7  | Create and query a view       | `CREATE VIEW`, `SELECT` |


ðŸŽ¤ POSSIBLE ORAL (VIVA) QUESTIONS & ANSWERS

| **Q.No** | **Question**                                                      | **Answer**                                                                                                |
| -------- | ----------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------- |
| 1        | What is a **Primary Key**?                                        | A column that uniquely identifies each record in a table.                                                 |
| 2        | What is a **Foreign Key**?                                        | A key that creates a relationship between two tables.                                                     |
| 3        | What is a **View** in SQL?                                        | A virtual table that stores the result of a query for easy access.                                        |
| 4        | What is the purpose of the **BETWEEN** operator?                  | To filter data within a specified range of values.                                                        |
| 5        | What is the use of **AVG()** function?                            | It calculates the average value of a numeric column.                                                      |
| 6        | What is the use of **GROUP BY** clause?                           | To group rows that have the same values in specified columns.                                             |
| 7        | What is the difference between **WHERE** and **HAVING**?          | `WHERE` filters rows before grouping; `HAVING` filters after grouping.                                    |
| 8        | What is the purpose of **DELETE** command?                        | To remove one or more rows from a table.                                                                  |
| 9        | What happens if we omit the `WHERE` clause in a `DELETE` command? | All rows in the table will be deleted.                                                                    |
| 10       | What is the difference between **VIEW** and **TABLE**?            | A view is virtual and doesnâ€™t store data physically; a table stores data permanently.                     |
| 11       | What does **PRIMARY KEY** ensure?                                 | It ensures each record is unique and not null.                                                            |
| 12       | What is the use of **FOREIGN KEY**?                               | It maintains referential integrity between related tables.                                                |
| 13       | Can a table have more than one foreign key?                       | Yes, it can reference multiple parent tables.                                                             |
| 14       | What is the difference between `COUNT()` and `AVG()`?             | `COUNT()` counts records; `AVG()` calculates the average of numeric data.                                 |
| 15       | What are **aggregate functions**?                                 | Functions like `SUM()`, `AVG()`, `MIN()`, `MAX()`, and `COUNT()` used for calculations on groups of data. |
